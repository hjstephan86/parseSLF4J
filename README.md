# parseSLF4J
This is a simple java project to parse the SLf4J log files generated by [https://github.com/hjstephan86/bible-app](https://github.com/hjstephan86/bible-app). It also gives a detailed description for log analysis and explains how to fetch, process, filter, and analyze logs from both Papertrial and Heroku using a combination of Bash, AWK, Java, and Python.

### 1. Analyze Papertrail and Heroku Logs
```bash
# Fetch Papertrail logs and extract the second column
papertrail "bible-app" | cut -f2

# Combine Papertrail log files into a single file
cat plogs-2025-06-21-22-00-01.txt plogs-2025-06-28-22-00-01.txt > plogs-2025-06-28.txt

# Fetch Heroku logs, strip metadata (first 45 characters), and save to a file
heroku logs --app bible-app --source app | cut -c46- > hlogs-2025-06-22.txt

# Run Java log parser with both Papertrail and Heroku logs
java -jar target/SLF4J-parser-1.0.0-jar-with-dependencies.jar -a plogs-2025-06-21.txt hlogs-2025-06-22.txt
```

### 2. Filter and Sort
```bash
# Skip the first 7 lines, extract the 6th column (e.g. country), count unique values, sort descending
awk 'NR>7 {print $6}' logs-output-2025-06-22.txt | sort | uniq -c | sort -nr

# Exclude entries from specific countries
grep -v "United States" logs-output-2025-06-22.txt | grep -v "Germany"

# Extract and sort unique region and city pairs
awk '{print $2, $3}' regions.txt | sort -u
```

### Alternative: Quick Python Analysis
```bash
# Extract IPs from "requested" log entries
heroku logs --app bible-app --source app | cut -c46- | grep requested | awk '{print $12}' | uniq > ips.txt

# Process the extracted IPs with a Python script
python3 ips.py
```

## Requests World Wide
Interesting to observe that within 140 days from initial deployment in Oct 2024 until  March 2025 users from 33 countries and 5 continents requested [https://www.123-bibel.de](https://www.123-bibel.de):
Austria, 
Bangladesh,
Belgium, 
Brazil, 
Cambodia, 
Canada, 
China, 
Finland, 
France, 
Germany, 
Hong Kong,
India, 
Indonesia, 
Ireland, 
Italy, 
Japan, 
Lithuania, 
Moldova, 
Netherlands, 
Poland, 
Russia, 
Singapore, 
Slovakia, 
South Africa,
South Korea,
Spain, 
Sweden, 
Switzerland, 
Thailand,
TÃ¼rkiye, 
Ukraine, 
United Kingdom,
United States.

This list of countries is just an overview but leading countries with a high request demand are the United States, United Kingdom and Germany.